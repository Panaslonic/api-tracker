# –°–≤–æ–¥–∫–∞ –ø–æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–º —é–Ω–∏—Ç —Ç–µ—Å—Ç–∞–º

## üìã –û–±–∑–æ—Ä

–í –ø—Ä–æ–µ–∫—Ç API Watcher –¥–æ–±–∞–≤–ª–µ–Ω –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —é–Ω–∏—Ç –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–π –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞.

## üéØ –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤
```
api_watcher/tests/
‚îú‚îÄ‚îÄ __init__.py              # –ü–∞–∫–µ—Ç —Ç–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ conftest.py             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è pytest –∏ —Ñ–∏–∫—Å—Ç—É—Ä—ã
‚îú‚îÄ‚îÄ test_config.py          # –¢–µ—Å—Ç—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (8 —Ç–µ—Å—Ç–æ–≤)
‚îú‚îÄ‚îÄ test_main.py            # –¢–µ—Å—Ç—ã –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –º–æ–¥—É–ª—è (15 —Ç–µ—Å—Ç–æ–≤)
‚îú‚îÄ‚îÄ test_parsers.py         # –¢–µ—Å—Ç—ã –ø–∞—Ä—Å–µ—Ä–æ–≤ (12 —Ç–µ—Å—Ç–æ–≤)
‚îú‚îÄ‚îÄ test_utils.py           # –¢–µ—Å—Ç—ã —É—Ç–∏–ª–∏—Ç (10 —Ç–µ—Å—Ç–æ–≤)
‚îú‚îÄ‚îÄ test_storage.py         # –¢–µ—Å—Ç—ã —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (12 —Ç–µ—Å—Ç–æ–≤)
‚îú‚îÄ‚îÄ test_notifiers.py       # –¢–µ—Å—Ç—ã —É–≤–µ–¥–æ–º–∏—Ç–µ–ª–µ–π (10 —Ç–µ—Å—Ç–æ–≤)
‚îú‚îÄ‚îÄ test_integration.py     # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (8 —Ç–µ—Å—Ç–æ–≤)
‚îî‚îÄ‚îÄ README.md               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∞–º
```

**–í—Å–µ–≥–æ: 75+ —Ç–µ—Å—Ç–æ–≤**

### 2. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
–î–æ–±–∞–≤–ª–µ–Ω—ã –≤ `requirements.txt`:
- `pytest>=7.4.0` - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `pytest-asyncio>=0.21.0` - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- `pytest-mock>=3.11.0` - –º–æ–∫–∏ –∏ –∑–∞–≥–ª—É—à–∫–∏
- `pytest-cov>=4.1.0` - –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞

### 3. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∑–∞–ø—É—Å–∫–∞
- `run_tests.py` - —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ç–µ—Å—Ç–æ–≤
- `Makefile` - —É–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- `pytest.ini` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è pytest

### 4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `tests/README.md` - –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∞–º
- `TESTING_EXAMPLES.md` - –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- `UNIT_TESTS_SUMMARY.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª

## üß™ –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚úÖ **Config** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ **APIWatcher** - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ **HealthChecker** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ **ProcessingResult** - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏

### –ü–∞—Ä—Å–µ—Ä—ã
- ‚úÖ **JSONParser** - –ø–∞—Ä—Å–∏–Ω–≥ JSON API
- ‚úÖ **HTMLParser** - –ø–∞—Ä—Å–∏–Ω–≥ HTML –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- ‚úÖ **OpenAPIParser** - –ø–∞—Ä—Å–∏–Ω–≥ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π
- ‚úÖ **PostmanParser** - –ø–∞—Ä—Å–∏–Ω–≥ Postman –∫–æ–ª–ª–µ–∫—Ü–∏–π
- ‚úÖ **MarkdownParser** - –ø–∞—Ä—Å–∏–Ω–≥ Markdown –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### –£—Ç–∏–ª–∏—Ç—ã –∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- ‚úÖ **Comparator** - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **SnapshotManager** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–Ω–∏–º–∫–∞–º–∏
- ‚úÖ **ConsoleNotifier** - –∫–æ–Ω—Å–æ–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ **TelegramNotifier** - Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- ‚úÖ –ü–æ–ª–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö URL
- ‚úÖ –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

## üöÄ –°–ø–æ—Å–æ–±—ã –∑–∞–ø—É—Å–∫–∞

### –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫
```bash
cd api_watcher
python run_tests.py
```

### –†–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã —Ç–µ—Å—Ç–æ–≤
```bash
python run_tests.py unit          # –Æ–Ω–∏—Ç —Ç–µ—Å—Ç—ã
python run_tests.py main          # –¢–µ—Å—Ç—ã –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –º–æ–¥—É–ª—è
python run_tests.py integration   # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
python run_tests.py coverage      # –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞
python run_tests.py quick         # –ë—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã
```

### –ß–µ—Ä–µ–∑ Makefile
```bash
make test                # –í—Å–µ —Ç–µ—Å—Ç—ã
make test-unit          # –Æ–Ω–∏—Ç —Ç–µ—Å—Ç—ã
make test-coverage      # –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
make test-quick         # –ë—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã
```

### –ù–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ pytest
```bash
pytest tests/ -v                    # –í—Å–µ —Ç–µ—Å—Ç—ã
pytest tests/test_config.py -v     # –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª
pytest tests/ --cov=. --cov-report=html  # –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
```

## üîß –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–∏–∫—Å—Ç—É—Ä—ã (conftest.py)
- `temp_dir` - –≤—Ä–µ–º–µ–Ω–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Ç–µ—Å—Ç–æ–≤
- `sample_urls` - —Ç–µ—Å—Ç–æ–≤—ã–µ URL –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `sample_json_data` - —Ç–µ—Å—Ç–æ–≤—ã–µ JSON –¥–∞–Ω–Ω—ã–µ
- `mock_aiohttp_session` - –º–æ–∫ –¥–ª—è HTTP —Å–µ—Å—Å–∏–π
- `setup_test_env` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –ú–æ–∫–∏ –∏ –∑–∞–≥–ª—É—à–∫–∏
- HTTP –∑–∞–ø—Ä–æ—Å—ã (requests, aiohttp)
- –§–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- –í–Ω–µ—à–Ω–∏–µ API (Telegram)
- –ü–∞—Ä—Å–µ—Ä—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `async/await`
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ú–æ–∫–∏ –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üìä CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### GitHub Actions
–û–±–Ω–æ–≤–ª–µ–Ω `.github/workflows/ci.yml`:
- –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Ç–µ—Å—Ç–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ Python 3.8-3.11
- –õ–∏–Ω—Ç–∏–Ω–≥ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

### –ö–æ–º–∞–Ω–¥—ã CI
```yaml
- name: Run unit tests
- name: Run main module tests  
- name: Run integration tests
- name: Run tests with coverage
```

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- üõ°Ô∏è **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - —Ä–∞–Ω–Ω–µ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫
- üîÑ **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥** - –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞
- üìà **–ö–∞—á–µ—Å—Ç–≤–æ** - –∫–æ–Ω—Ç—Ä–æ–ª—å –ø–æ–∫—Ä—ã—Ç–∏—è —Ç–µ—Å—Ç–∞–º–∏
- ‚ö° **–°–∫–æ—Ä–æ—Å—Ç—å** - –±—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** - –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
- üêõ **–ú–µ–Ω—å—à–µ –±–∞–≥–æ–≤** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- üìö **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - —Ç–µ—Å—Ç—ã –∫–∞–∫ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

## üìà –ú–µ—Ç—Ä–∏–∫–∏

### –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞
- –¶–µ–ª—å: >80% –ø–æ–∫—Ä—ã—Ç–∏—è
- HTML –æ—Ç—á–µ—Ç—ã –≤ `htmlcov/`
- –¢–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤
- –Æ–Ω–∏—Ç —Ç–µ—Å—Ç—ã: <10 —Å–µ–∫—É–Ω–¥
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ: <30 —Å–µ–∫—É–Ω–¥
- –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä: <60 —Å–µ–∫—É–Ω–¥

## üîÆ –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] –ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã
- [ ] –¢–µ—Å—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- [ ] E2E —Ç–µ—Å—Ç—ã

### –£–ª—É—á—à–µ–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- [ ] –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á–µ—Ç—ã
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SonarQube

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º —Å —Ç–µ—Å—Ç–∞–º–∏:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [README –ø–æ —Ç–µ—Å—Ç–∞–º](tests/README.md)
2. –ò–∑—É—á–∏—Ç–µ [–ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](TESTING_EXAMPLES.md)
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É: `python run_tests.py --help`
4. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

---

**–ò—Ç–æ–≥:** –î–æ–±–∞–≤–ª–µ–Ω –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–π –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ API Watcher. –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.